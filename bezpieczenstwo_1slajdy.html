<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bezpiecze≈Ñstwo w sieci ‚Äî Slajdy + Quiz TAK/NIE (klasa 3)</title>
  <style>
    :root{
      --bg1:#0b1020;
      --bg2:#14224b;
      --card:rgba(255,255,255,.10);
      --card2:rgba(255,255,255,.08);
      --border:rgba(255,255,255,.18);
      --text:#ffffff;
      --muted:rgba(255,255,255,.78);
      --shadow: 0 20px 60px rgba(0,0,0,.35);
      --btn: rgba(255,255,255,.14);
      --btnHover: rgba(255,255,255,.22);
      --ok:#5eead4;
      --warn:#fbbf24;
      --bad:#fb7185;
    }
    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(900px 600px at 20% 10%, rgba(122,162,255,.35), transparent 60%),
        radial-gradient(900px 600px at 90% 20%, rgba(94,234,212,.18), transparent 55%),
        radial-gradient(900px 600px at 50% 100%, rgba(251,191,36,.12), transparent 60%),
        linear-gradient(180deg, var(--bg2), var(--bg1));
      overflow:hidden;
    }
    .app{
      height:100%;
      display:grid;
      grid-template-rows: auto 1fr auto;
    }
    header{
      padding:18px 18px 10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand{ display:flex; align-items:center; gap:12px; min-width:0; }
    .logo{
      width:44px;height:44px;border-radius:16px;
      display:grid;place-items:center;
      background: rgba(255,255,255,.14);
      border:1px solid var(--border);
      box-shadow: var(--shadow);
      font-size:22px; flex:0 0 auto;
    }
    .titles{ min-width:0; }
    .titles h1{
      margin:0;
      font-size: clamp(16px, 2.5vw, 22px);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .titles p{
      margin:2px 0 0;
      color:var(--muted);
      font-size:13px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .topBtns{ display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end; }
    .btn{
      border:1px solid var(--border);
      background: var(--btn);
      color:var(--text);
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font-weight:800;
      display:inline-flex;
      align-items:center;
      gap:8px;
      user-select:none;
      backdrop-filter: blur(6px);
    }
    .btn:hover{ background: var(--btnHover); }

    .stage{ position:relative; padding: 10px 18px 0; display:grid; place-items:center; }
    .slide{
      width:min(980px, 100%);
      min-height: min(560px, calc(100vh - 220px));
      background: linear-gradient(180deg, var(--card), var(--card2));
      border:1px solid var(--border);
      border-radius:26px;
      box-shadow: var(--shadow);
      padding: 22px 22px 18px;
      position:relative;
      overflow:hidden;
    }
    .slide::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(900px 320px at 20% 0%, rgba(255,255,255,.12), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .slide > *{ position:relative; }
    .kicker{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 12px; border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.08);
      color:var(--muted);
      font-weight:900;
      font-size:13px;
    }
    .bigTitle{
      margin:14px 0 6px;
      font-size: clamp(26px, 4.2vw, 44px);
      line-height:1.05;
    }
    .subtitle{
      margin:0 0 14px;
      color:var(--muted);
      font-size: clamp(15px, 2.0vw, 18px);
      max-width: 70ch;
    }
    .content{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:16px;
      align-items:start;
    }
    @media (max-width: 820px){ .content{ grid-template-columns: 1fr; } }
    .card{
      border:1px solid var(--border);
      border-radius:20px;
      background: rgba(255,255,255,.08);
      padding:16px;
    }
    .card h3{
      margin:0 0 10px;
      font-size:18px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .emoji{
      width:44px;height:44px;border-radius:16px;
      display:grid;place-items:center;
      background: rgba(255,255,255,.12);
      border:1px solid var(--border);
      font-size:22px;
      flex:0 0 auto;
    }
    .bullets{
      margin:0;
      padding-left: 20px;
      font-size: clamp(16px, 2.1vw, 18px);
      line-height:1.35;
    }
    .bullets li{ margin: 10px 0; }
    .ruleBox{ display:flex; flex-direction:column; gap:12px; }
    .rule{
      border:1px solid var(--border);
      border-radius:18px;
      background: rgba(255,255,255,.07);
      padding:14px 14px;
      font-size: clamp(16px, 2.1vw, 18px);
    }
    .chip{
      display:inline-block;
      margin-top:10px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      font-weight:900;
      font-size:13px;
      background: rgba(255,255,255,.06);
    }
    .chip.ok{ color: var(--ok); }
    .chip.warn{ color: var(--warn); }
    .chip.bad{ color: var(--bad); }

    footer{
      padding: 12px 18px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .nav{ display:flex; gap:10px; align-items:center; }
    .progress{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:center; }
    .dot{
      width:12px;height:12px;border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.10);
      cursor:pointer;
    }
    .dot.active{ background: rgba(255,255,255,.85); }
    .hint{
      color:var(--muted);
      font-size:13px;
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
    }
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size:12px;
      padding:2px 6px;
      border-radius:8px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.08);
      color:var(--text);
    }

    .fade{ animation: fadeIn .18s ease-out; }
    @keyframes fadeIn{ from{ opacity:0; transform: translateY(6px);} to{ opacity:1; transform: translateY(0);} }

    /* Fullscreen badge */
    .fsBadge{
      position:fixed; right:14px; bottom:14px;
      padding:8px 10px; border-radius:999px;
      border:1px solid var(--border);
      background: rgba(0,0,0,.28);
      color:var(--muted);
      font-weight:900;
      font-size:12px;
      backdrop-filter: blur(6px);
      display:none;
    }

    /* QUIZ MODAL */
     /* QUIZ MODAL ‚Äî poprawiona widoczno≈õƒá */
.overlay{
  position:fixed; inset:0;
  /* by≈Ço: rgba(0,0,0,.55) */
  background: rgba(0,0,0,.78);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  display:none;
  place-items:center;
  padding:18px;
  z-index:50;
}

.modal{
  width:min(820px, 100%);
  border-radius:24px;
  border:1px solid rgba(255,255,255,.25);

  /* by≈Ço: bardzo przezroczyste */
  background: rgba(20, 26, 42, .96); /* prawie nieprzezroczyste */
  box-shadow: 0 24px 80px rgba(0,0,0,.55);

  padding:18px;
  position:relative;
  overflow:hidden;
}

.modal::before{
  content:"";
  position:absolute;
  inset:-2px;
  /* delikatny ‚Äûpo≈Çysk‚Äù ale bez psucia czytelno≈õci */
  background: radial-gradient(900px 320px at 20% 0%, rgba(255,255,255,.10), transparent 60%);
  opacity:.8;
  pointer-events:none;
}

/* Pytanie w boksie ‚Äî wyra≈∫niejsze */
.qBox{
  margin-top:12px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.22);

  /* by≈Ço: rgba(0,0,0,.20) */
  background: rgba(0,0,0,.55);

  padding:14px;
  font-size: clamp(18px, 3.2vw, 26px);
  font-weight:900;
  letter-spacing:.2px;
}

/* (Opcjonalnie) przyciski TAK/NIE bardziej ‚Äûpe≈Çne‚Äù */
.qBtn{
  flex:1 1 160px;
  padding:14px 14px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.25);

  /* by≈Ço: rgba(255,255,255,.10) */
  background: rgba(255,255,255,.16);

  font-weight:1000;
  font-size:18px;
  cursor:pointer;
}
.qBtn:hover{ background: rgba(255,255,255,.24); }

    .qBtn.yes{ outline: 2px solid rgba(94,234,212,.25); }
    .qBtn.no{ outline: 2px solid rgba(251,113,133,.20); }
    .feedback{
      margin-top:12px;
      border-radius:18px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.07);
      padding:12px 14px;
      display:none;
      gap:10px;
      align-items:flex-start;
    }
    .fbEmoji{
      width:44px;height:44px;border-radius:16px;
      display:grid;place-items:center;
      background: rgba(255,255,255,.12);
      border:1px solid var(--border);
      font-size:22px;
      flex:0 0 auto;
    }
    .fbText strong{ display:block; margin-bottom:3px; }
    .modalActions{
      display:flex;
      justify-content:flex-end;
      gap:10px;
      margin-top:12px;
      flex-wrap:wrap;
    }
    .smallNote{ color:var(--muted); font-size:12px; margin-top:8px; font-weight:700; }
  </style>
</head>

<body>
  <div class="app">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">üõ°Ô∏è</div>
        <div class="titles">
          <h1 id="headerTitle">Bezpiecze≈Ñstwo w sieci ‚Äî klasa 3</h1>
          <p id="headerSub">Slajdy + Quiz TAK/NIE</p>
        </div>
      </div>
      <div class="topBtns">
        <button class="btn" id="btnFs" title="Pe≈Çny ekran (F)">‚õ∂ Pe≈Çny ekran</button>
        <button class="btn" id="btnStart" title="Wr√≥ƒá do poczƒÖtku">‚ü≤ Start</button>
      </div>
    </header>

    <main class="stage">
      <section class="slide fade" id="slide"></section>
    </main>

    <footer>
      <div class="nav">
        <button class="btn" id="prev" title="Poprzedni (‚Üê)">‚Üê Wstecz</button>
        <button class="btn" id="next" title="Nastƒôpny (‚Üí)">Dalej ‚Üí</button>
      </div>

      <div class="progress" id="dots" aria-label="Postƒôp slajd√≥w"></div>

      <div class="hint">
        Sterowanie:
        <span class="kbd">‚Üê</span><span class="kbd">‚Üí</span>
        <span class="kbd">F</span> pe≈Çny ekran
        <span class="kbd">Esc</span> wyj≈õcie
      </div>
    </footer>
  </div>

  <div class="fsBadge" id="fsBadge">Tryb pe≈Çnoekranowy</div>

  <!-- QUIZ OVERLAY -->
  <div class="overlay" id="quizOverlay" role="dialog" aria-modal="true" aria-label="Quiz TAK/NIE">
    <div class="modal">
      <div class="modalTop">
        <div>
          <h3 class="qTitle">Quiz TAK / NIE</h3>
          <div class="qSub" id="qMeta">Pytanie do slajdu</div>
        </div>
        <div class="kicker" id="qKicker">QUIZ</div>
      </div>

      <div class="qBox" id="qText">Czy to jest bezpieczne?</div>

      <div class="qBtns">
        <button class="qBtn yes" id="btnYes">TAK ‚úÖ</button>
        <button class="qBtn no" id="btnNo">NIE ‚ùå</button>
      </div>

      <div class="feedback" id="feedback">
        <div class="fbEmoji" id="fbEmoji">‚≠ê</div>
        <div class="fbText">
          <strong id="fbStrong">Dobrze!</strong>
          <div id="fbExplain">Wyja≈õnienie.</div>
          <div class="smallNote" id="fbNote">Kliknij ‚ÄûDalej‚Äù, aby kontynuowaƒá.</div>
        </div>
      </div>

      <div class="modalActions">
        <button class="btn" id="btnContinue" disabled>‚û°Ô∏è Dalej</button>
      </div>
    </div>
  </div>

  <script>
    // ===== SLIDES =====
    const slides = [
      {
        kicker: "ZASADA LEKCJI",
        title: "STOP ‚Äî POMY≈öL ‚Äî ZAPYTAJ DOROS≈ÅEGO",
        subtitle: "Gdy co≈õ jest dziwne ‚Äî nie klikam i m√≥wiƒô doros≈Çemu.",
        emoji: "üõë",
        leftTitle: "Zapamiƒôtaj",
        bullets: [
          "Gdy kto≈õ prosi o dane ‚Üí m√≥wiƒô: ‚ÄûNie!‚Äù",
          "Gdy co≈õ straszy lub obiecuje nagrodƒô ‚Üí zamykam okno.",
          "Gdy kto≈õ jest niemi≈Çy ‚Üí nie odpisujƒô, blokujƒô, m√≥wiƒô doros≈Çemu."
        ],
        rightTitle: "Trzy super kroki",
        rule: "1) STOP  2) POMY≈öL  3) ZAPYTAJ DOROS≈ÅEGO",
        chip: { text: "To dzia≈Ça zawsze!", type: "ok" }
      },
      {
        kicker: "ASPEKT 1",
        title: "Dane osobowe = skarb",
        subtitle: "To informacje, po kt√≥rych kto≈õ mo≈ºe rozpoznaƒá dziecko.",
        emoji: "üßæ",
        leftTitle: "Czego NIE podajemy?",
        bullets: [
          "Nazwiska + szko≈Çy/klasy",
          "Adresu domu",
          "Numeru telefonu",
          "Lokalizacji (gdzie jestem)",
          "Zdjƒôƒá dokument√≥w"
        ],
        rightTitle: "Bezpieczna my≈õl",
        rule: "‚ÄûJe≈õli to m√≥wi, kim jestem i gdzie jestem ‚Äî to jest skarb.‚Äù",
        chip: { text: "Pytam doros≈Çego", type: "warn" }
      },
      {
        kicker: "ASPEKT 2",
        title: "Has≈Ça = sekret jak klucz",
        subtitle: "Has≈Ça nie podajemy nawet koledze.",
        emoji: "üîê",
        leftTitle: "Zasady hase≈Ç",
        bullets: [
          "Has≈Ço jest tajne ‚Äî nie udostƒôpniam go nikomu.",
          "Lepsze has≈Ço jest d≈Çu≈ºsze i ma r√≥≈ºne znaki.",
          "Gdy kto≈õ prosi o has≈Ço ‚Üí m√≥wiƒô doros≈Çemu."
        ],
        rightTitle: "Zdanie-has≈Ço (przyk≈Çad)",
        rule: "‚ÄûLubiƒôKoty!Mam3Klocki‚Äù (d≈Çugie = lepsze)",
        chip: { text: "Has≈Ço to klucz", type: "ok" }
      },
      {
        kicker: "ASPEKT 3",
        title: "Nieznajomi w internecie",
        subtitle: "W sieci kto≈õ mo≈ºe udawaƒá ‚Äî dlatego nie podajemy danych.",
        emoji: "üßë‚Äçü¶±‚ùì",
        leftTitle: "Co robiƒô?",
        bullets: [
          "Nie podajƒô danych i nie przechodzƒô na prywatne rozmowy.",
          "Nie wysy≈Çam zdjƒôƒá obcym osobom.",
          "Nie umawiam siƒô na spotkania.",
          "Gdy co≈õ jest dziwne ‚Üí doros≈Çy."
        ],
        rightTitle: "Proste zdanie",
        rule: "‚ÄûNie rozmawiam z obcymi o prywatnych sprawach.‚Äù",
        chip: { text: "STOP i doros≈Çy", type: "warn" }
      },
      {
        kicker: "ASPEKT 4",
        title: "Podejrzane linki i reklamy",
        subtitle: "‚ÄûWygra≈Çe≈õ!‚Äù ‚ÄûKliknij szybko!‚Äù ‚Äî to czƒôsto pu≈Çapki.",
        emoji: "üñ±Ô∏è",
        leftTitle: "Trzy znaki ostrzegawcze",
        bullets: [
          "Nagroda ‚Äûza darmo‚Äù",
          "Po≈õpiech: ‚Äûkliknij ju≈º!‚Äù",
          "Straszenie: ‚Äûkonto zablokowane!‚Äù"
        ],
        rightTitle: "Co robiƒô?",
        rule: "Zamykam okno. Nie klikam. Pytam doros≈Çego.",
        chip: { text: "Nie klikam!", type: "bad" }
      },
      {
        kicker: "ASPEKT 5",
        title: "Mi≈Çe i niemi≈Çe zachowania",
        subtitle: "W sieci te≈º obowiƒÖzuje kultura.",
        emoji: "üí¨",
        leftTitle: "Netykieta",
        bullets: [
          "Piszƒô tak, jakbym m√≥wi≈Ç w klasie.",
          "Nie obra≈ºam, nie wy≈õmiewam.",
          "Pomagam, gdy kto≈õ potrzebuje wsparcia."
        ],
        rightTitle: "Gdy kto≈õ jest niemi≈Çy",
        rule: "Nie odpisujƒô ‚Ä¢ robiƒô screen ‚Ä¢ blokujƒô ‚Ä¢ m√≥wiƒô doros≈Çemu",
        chip: { text: "To nie twoja wina", type: "warn" }
      },
      {
        kicker: "ASPEKT 6",
        title: "Zdjƒôcia i zgoda",
        subtitle: "Zawsze pytamy o zgodƒô!",
        emoji: "üì∑",
        leftTitle: "Zasady zdjƒôƒá",
        bullets: [
          "Nie wrzucam zdjƒôƒá innych bez pytania.",
          "Nie wysy≈Çam kompromitujƒÖcych zdjƒôƒá.",
          "Raz wrzucone mo≈ºe krƒÖ≈ºyƒá dalej."
        ],
        rightTitle: "Proste zdanie",
        rule: "‚ÄûNajpierw pytam: czy mogƒô?‚Äù",
        chip: { text: "Szanujƒô innych", type: "ok" }
      },
      {
        kicker: "ASPEKT 7",
        title: "Czas ekranowy i przerwy",
        subtitle: "Bezpiecze≈Ñstwo to te≈º dbanie o zdrowie.",
        emoji: "‚è≥",
        leftTitle: "Ma≈Çe zasady",
        bullets: [
          "Robiƒô przerwy i ruszam siƒô.",
          "Patrzƒô daleko przez chwilƒô (odpoczynek oczu).",
          "Przed snem mniej ekran√≥w.",
          "Gdy czujƒô z≈Ço≈õƒá lub zmƒôczenie ‚Äî robiƒô przerwƒô."
        ],
        rightTitle: "Mini-rytua≈Ç 30 sekund",
        rule: "Wsta≈Ñ ‚Ä¢ przeciƒÖgnij siƒô ‚Ä¢ 10 spokojnych oddech√≥w",
        chip: { text: "Zdrowie jest wa≈ºne", type: "ok" }
      },
	  
	  // --- DODATKOWE 5 SLAJD√ìW (wklej przed slajdem FINA≈Å) ---
{
  kicker: "BONUS 1",
  title: "Detektyw emotek: jak siƒô czujƒô po sieci?",
  subtitle: "Bezpiecze≈Ñstwo to te≈º emocje. Je≈õli po internecie czujƒô siƒô gorzej ‚Äî robiƒô przerwƒô i m√≥wiƒô doros≈Çemu.",
  emoji: "üïµÔ∏è‚Äç‚ôÇÔ∏è",
  leftTitle: "Mini-gra (30 sekund)",
  bullets: [
    "Poka≈º palcami 1‚Äì4: üòä (super) üòê (ok) üòü (smutno) üò° (z≈Ço≈õƒá).",
    "Je≈õli pokazujesz üòü lub üò° ‚Üí robimy przerwƒô.",
    "Pamiƒôtaj: uczucia sƒÖ wa≈ºne i normalne."
  ],
  rightTitle: "Zasada",
  rule: "‚ÄûGdy czujƒô siƒô gorzej po sieci ‚Üí PRZERWA + DOROS≈ÅY.‚Äù",
  chip: { text: "Dbam o siebie", type: "ok" }
},
{
  kicker: "BONUS 2",
  title: "Zdanie STOP: czy to prosi o dane?",
  subtitle: "ƒÜwiczymy rozpoznawanie pr√≥≈õb o dane. Gdy kto≈õ prosi o prywatne informacje ‚Äî zatrzymujƒô siƒô.",
  emoji: "üõë",
  leftTitle: "Gra na gesty",
  bullets: [
    "Gdy s≈Çyszysz pro≈õbƒô o dane ‚Üí zr√≥b rƒôkami X (STOP).",
    "Gdy to pytanie neutralne ‚Üí kciuk w g√≥rƒô.",
    "Po ka≈ºdym zdaniu m√≥wimy razem: STOP ‚Äî POMY≈öL ‚Äî DOROS≈ÅY."
  ],
  rightTitle: "Przyk≈Çad zdania",
  rule: "‚ÄûPodaj numer telefonu / adres / has≈Ço‚Äù ‚Üí STOP!",
  chip: { text: "Nie podajƒô danych", type: "warn" }
},
{
  kicker: "BONUS 3",
  title: "Zgoda na zdjƒôcie: czerwone / zielone ≈õwiat≈Ço",
  subtitle: "Zdjƒôcia innych os√≥b wymagajƒÖ zgody. Sprawd≈∫my to w ruchu!",
  emoji: "üö¶",
  leftTitle: "Gra ruchowa",
  bullets: [
    "ZIELONE = krok do przodu (bezpieczne).",
    "CZERWONE = krok do ty≈Çu (niebezpieczne).",
    "Sytuacje: ‚Äûpytam o zgodƒô‚Äù (zielone) / ‚Äûwrzucam bez pytania‚Äù (czerwone)."
  ],
  rightTitle: "Zasada",
  rule: "‚ÄûNajpierw pytam: czy mogƒô?‚Äù",
  chip: { text: "Szanujƒô innych", type: "ok" }
},
// --- PODMIANA BONUS 4 ---
{
  kicker: "BONUS 4",
  title: "Gra ‚ÄûHas≈Ço czy bajka?‚Äù (SZYBKI TEST)",
  subtitle: "Czas na zabawƒô w rozpoznawanie bezpiecznych i niebezpiecznych hase≈Ç. Odpowiadamy b≈Çyskawicznie!",
  emoji: "üé≤",
  leftTitle: "Jak gramy? (1 minuta)",
  bullets: [
    "Ja czytam has≈Ço, a Wy pokazujecie: üëç = OK / üëé = NIE OK",
    "Je≈õli nie jeste≈õ pewny ‚Üí poka≈º ‚úã i m√≥wisz: ‚ÄûPytam doros≈Çego!‚Äù",
    "Gramy szybko: 8 hase≈Ç = 1 runda."
  ],
  rightTitle: "Has≈Ça do rundy",
  rule: "1) ‚ÄûPodaj has≈Ço‚Äù ‚ùå  2) ‚ÄûZapytaj rodzica‚Äù ‚úÖ  3) ‚ÄûKliknij szybko!‚Äù ‚ùå  4) ‚ÄûUstaw prywatno≈õƒá‚Äù ‚úÖ  5) ‚ÄûWy≈õlij adres‚Äù ‚ùå  6) ‚ÄûZablokuj‚Äù ‚úÖ",
  chip: { text: "ƒÜwiczƒô refleks", type: "ok" }
},

// --- PODMIANA BONUS 5 ---
{
  kicker: "BONUS 5",
  title: "Misja SUPERBOHATERA: 3 ruchy obrony",
  subtitle: "Gdy w sieci dzieje siƒô co≈õ z≈Çego ‚Äî robimy trzy proste ruchy jak superbohater. To zapamiƒôtasz na zawsze!",
  emoji: "ü¶∏",
  leftTitle: "Trzy ruchy (wszyscy razem)",
  bullets: [
    "1) TARCZA üõ°Ô∏è ‚Äî robiƒô STOP (rƒôce jak tarcza)",
    "2) KROK W TY≈Å üë£ ‚Äî zamykam/wychodzƒô",
    "3) SYGNA≈Å üì¢ ‚Äî m√≥wiƒô doros≈Çemu"
  ],
  rightTitle: "Has≈Ço dru≈ºyny",
  rule: "‚ÄûTARCZA ‚Äî KROK W TY≈Å ‚Äî SYGNA≈Å!‚Äù",
  chip: { text: "Mam supermoc!", type: "ok" }
},

	  
	  
      {
        kicker: "FINA≈Å",
        title: "Kodeks Bezpiecznego Internauty",
        subtitle: "Powt√≥rzcie i zr√≥bcie plakat üôÇ",
        emoji: "‚≠ê",
        leftTitle: "Nasze zasady (6)",
        bullets: [
          "Nie podajƒô danych i hase≈Ç.",
          "Nie klikam podejrzanych link√≥w.",
          "Nie rozmawiam z nieznajomymi o prywatnych sprawach.",
          "Gdy kto≈õ jest niemi≈Çy ‚Äî nie odpisujƒô, blokujƒô, m√≥wiƒô doros≈Çemu.",
          "Pytam o zgodƒô na zdjƒôcia.",
          "Robiƒô przerwy od ekranu."
        ],
        rightTitle: "Has≈Ço na wyj≈õcie",
        rule: "STOP ‚Äî POMY≈öL ‚Äî ZAPYTAJ DOROS≈ÅEGO",
        chip: { text: "Brawo! üëè", type: "ok" }
      }
    ];

    // ===== QUIZ (TAK/NIE) =====
    // Pytania do slajd√≥w: indeks = numer slajdu
    // (Slajd 0 = start, slajd ostatni = fina≈Ç ‚Äî bez quizu)
    const quiz = {
      1: { q: "Czy wolno podawaƒá w grze sw√≥j adres domu?", a: "N", explain: "Nie. Adres to dana osobowa ‚Äî skarb. Zawsze chronimy takie informacje." },
      2: { q: "Czy mogƒô podaƒá koledze swoje has≈Ço, bo jest najlepszym kolegƒÖ?", a: "N", explain: "Nie. Has≈Ço to sekret jak klucz. Has≈Ça nie podajemy nikomu." },
      3: { q: "Czy w internecie ka≈ºdy jest na pewno tym, za kogo siƒô podaje?", a: "N", explain: "Nie. Kto≈õ mo≈ºe udawaƒá, dlatego nie podajemy danych i pytamy doros≈Çego." },
      4: { q: "Czy warto kliknƒÖƒá reklamƒô ‚ÄûWygra≈Çe≈õ! Kliknij szybko!‚Äù?", a: "N", explain: "Nie. To znak ostrzegawczy: nagroda + po≈õpiech. Najlepiej zamknƒÖƒá i nie klikaƒá." },
      5: { q: "Gdy kto≈õ jest niemi≈Çy w sieci, czy najlepiej mu odpisaƒá i siƒô k≈Ç√≥ciƒá?", a: "N", explain: "Nie. Nie odpisujemy. Robimy screen, blokujemy i m√≥wimy doros≈Çemu." },
      6: { q: "Czy mogƒô wrzuciƒá zdjƒôcie kolegi bez pytania, je≈õli jest ≈õmieszne?", a: "N", explain: "Nie. Zawsze pytamy o zgodƒô. Raz wrzucone mo≈ºe krƒÖ≈ºyƒá dalej." },
      7: { q: "Czy przerwy od ekranu pomagajƒÖ oczom i g≈Çowie?", a: "T", explain: "Tak. Przerwy, ruch i odpoczynek dla oczu to te≈º bezpiecze≈Ñstwo." }
    };

    // ===== UI HOOKS =====
    let idx = 0;
    const slideEl = document.getElementById('slide');
    const dotsEl = document.getElementById('dots');
    const headerTitle = document.getElementById('headerTitle');
    const headerSub = document.getElementById('headerSub');

    const quizOverlay = document.getElementById('quizOverlay');
    const qMeta = document.getElementById('qMeta');
    const qKicker = document.getElementById('qKicker');
    const qText = document.getElementById('qText');
    const btnYes = document.getElementById('btnYes');
    const btnNo = document.getElementById('btnNo');
    const feedback = document.getElementById('feedback');
    const fbEmoji = document.getElementById('fbEmoji');
    const fbStrong = document.getElementById('fbStrong');
    const fbExplain = document.getElementById('fbExplain');
    const btnContinue = document.getElementById('btnContinue');

    let pendingNext = null; // funkcja do wykonania po quizie
    let quizOpen = false;

    function chipClass(type){
      if(type === "ok") return "chip ok";
      if(type === "warn") return "chip warn";
      if(type === "bad") return "chip bad";
      return "chip";
    }

    function renderDots(){
      dotsEl.innerHTML = "";
      slides.forEach((_, i) => {
        const d = document.createElement('div');
        d.className = "dot" + (i === idx ? " active" : "");
        d.title = `Slajd ${i+1}`;
        d.addEventListener('click', () => go(i, {fromDot:true}));
        dotsEl.appendChild(d);
      });
    }

    function miniQuestion(i){
      const qs = [
        "Co robisz, gdy co≈õ wydaje siƒô dziwne w internecie?",
        "Czy numer telefonu to dana osobowa?",
        "Czy has≈Ço mo≈ºna komu≈õ podaƒá?",
        "Co robisz, gdy pisze obca osoba?",
        "Jakie sƒÖ znaki ostrzegawcze reklam?",
        "Co robisz, gdy kto≈õ jest niemi≈Çy?",
        "Czy zawsze pytamy o zgodƒô na zdjƒôcia?",
        "Co pomaga w przerwach od ekranu?",
        "Powiedz jednƒÖ zasadƒô z kodeksu."
      ];
      return qs[i] || "Powiedz jednƒÖ wa≈ºnƒÖ zasadƒô bezpiecze≈Ñstwa w sieci.";
    }

    function render(){
      const s = slides[idx];
      headerTitle.textContent = `Bezpiecze≈Ñstwo w sieci ‚Äî slajd ${idx+1}/${slides.length}`;
      headerSub.textContent = s.title;

      slideEl.classList.remove('fade');
      void slideEl.offsetWidth;
      slideEl.classList.add('fade');

      slideEl.innerHTML = `
        <div class="kicker">${s.kicker}</div>
        <h2 class="bigTitle">${s.emoji} ${s.title}</h2>
        <p class="subtitle">${s.subtitle}</p>

        <div class="content">
          <div class="card">
            <h3><span class="emoji" aria-hidden="true">${s.emoji}</span>${s.leftTitle}</h3>
            <ul class="bullets">
              ${s.bullets.map(b => `<li>${b}</li>`).join("")}
            </ul>
          </div>

          <div class="ruleBox">
            <div class="card">
              <h3><span class="emoji" aria-hidden="true">üß†</span>${s.rightTitle}</h3>
              <div class="rule">${s.rule}</div>
              <span class="${chipClass(s.chip.type)}">${s.chip.text}</span>
            </div>

            <div class="card">
              <h3><span class="emoji" aria-hidden="true">üéØ</span>Mini-pytanie do klasy</h3>
              <div class="rule">${miniQuestion(idx)}</div>
            </div>
          </div>
        </div>
      `;

      renderDots();
      updateNavButtons();
    }

    function updateNavButtons(){
      const prevBtn = document.getElementById('prev');
      const nextBtn = document.getElementById('next');

      prevBtn.disabled = (idx === 0);
      nextBtn.disabled = (idx === slides.length - 1);

      [prevBtn, nextBtn].forEach(b=>{
        if(b.disabled){ b.style.opacity=.55; b.style.cursor="not-allowed"; }
        else { b.style.opacity=1; b.style.cursor="pointer"; }
      });
    }

    function go(i, opts={}){
      idx = Math.max(0, Math.min(slides.length - 1, i));
      render();
      // skakanie kropkami omija quiz (≈ºeby prowadzƒÖcy m√≥g≈Ç wr√≥ciƒá/ przeskoczyƒá)
      // je≈õli wolisz, ≈ºeby quiz wymusza≈Ç siƒô te≈º przy kropkach ‚Äî usu≈Ñ tƒô linijkƒô.
      if(opts.fromDot) closeQuiz();
    }

    function shouldQuizForSlide(slideIndex){
      // bez quizu na slajdzie 0 (start) i ostatnim (fina≈Ç)
      if(slideIndex === 0) return false;
      if(slideIndex === slides.length - 1) return false;
      return !!quiz[slideIndex];
    }

    // ===== QUIZ LOGIC =====
    function openQuizFor(slideIndex, onContinue){
      const q = quiz[slideIndex];
      if(!q){ onContinue?.(); return; }

      quizOpen = true;
      pendingNext = onContinue;

      qMeta.textContent = `Pytanie do slajdu ${slideIndex+1}: ${slides[slideIndex].title}`;
      qKicker.textContent = "QUIZ TAK / NIE";
      qText.textContent = q.q;

      feedback.style.display = "none";
      btnContinue.disabled = true;

      quizOverlay.style.display = "grid";
      // fokus (pomocne w klasie)
      btnYes.focus();
    }

    function closeQuiz(){
      quizOpen = false;
      pendingNext = null;
      quizOverlay.style.display = "none";
    }

    function answerQuiz(ans){
      const q = quiz[idx];
      if(!q) return;

      const correct = (ans === q.a);
      feedback.style.display = "flex";

      if(correct){
        fbEmoji.textContent = "‚úÖ";
        fbStrong.textContent = "Dobrze!";
        fbExplain.textContent = q.explain;
      }else{
        fbEmoji.textContent = "‚ùó";
        fbStrong.textContent = "Prawie ‚Äî spr√≥bujmy jeszcze raz.";
        fbExplain.textContent = "Podpowied≈∫: przypomnij sobie zasadƒô z tego slajdu. " + q.explain;
      }

      // pozwalamy i≈õƒá dalej nawet po b≈Çƒôdzie (≈ºeby prowadzƒÖcy decydowa≈Ç)
      btnContinue.disabled = false;
      btnContinue.focus();
    }

    btnYes.addEventListener('click', ()=>answerQuiz("T"));
    btnNo.addEventListener('click', ()=>answerQuiz("N"));
    btnContinue.addEventListener('click', ()=>{
      const fn = pendingNext;
      closeQuiz();
      fn?.();
    });

    // ===== NAVIGATION (with quiz on next) =====
    function next(){
      if(idx >= slides.length - 1) return;

      const target = idx + 1;

      // quiz pojawia siƒô po slajdzie, czyli PRZED przej≈õciem do nastƒôpnego:
      // (u≈ºytkownik chcia≈Ç: "po ka≈ºdym slajdzie 1 pytanie")
      if(shouldQuizForSlide(idx) && !quizOpen){
        openQuizFor(idx, ()=>go(target));
        return;
      }

      go(target);
    }

    function prev(){
      if(idx <= 0) return;
      // cofanie bez quizu (≈ºeby da≈Ço siƒô wr√≥ciƒá)
      go(idx - 1);
    }

    document.getElementById('next').addEventListener('click', next);
    document.getElementById('prev').addEventListener('click', prev);
    document.getElementById('btnStart').addEventListener('click', () => { closeQuiz(); go(0); });

    // ===== FULLSCREEN =====
    const fsBadge = document.getElementById('fsBadge');
    function isFs(){ return !!document.fullscreenElement; }
    async function toggleFs(){
      if(!isFs()){
        await document.documentElement.requestFullscreen?.();
      }else{
        await document.exitFullscreen?.();
      }
      updateFsUI();
    }
    function updateFsUI(){
      const btn = document.getElementById('btnFs');
      if(isFs()){
        btn.textContent = "‚õ∂ Wyjd≈∫ z pe≈Çnego ekranu";
        fsBadge.style.display = "block";
      }else{
        btn.textContent = "‚õ∂ Pe≈Çny ekran";
        fsBadge.style.display = "none";
      }
    }
    document.getElementById('btnFs').addEventListener('click', toggleFs);
    document.addEventListener('fullscreenchange', updateFsUI);

    // ===== KEYBOARD =====
    document.addEventListener('keydown', (e) => {
      if(quizOpen){
        if(e.key === "Escape") closeQuiz();
        if(e.key === "Enter" && !btnContinue.disabled) btnContinue.click();
        if(e.key.toLowerCase() === "t") btnYes.click();
        if(e.key.toLowerCase() === "n") btnNo.click();
        return;
      }

      if(e.key === "ArrowRight") next();
      if(e.key === "ArrowLeft") prev();
      if(e.key.toLowerCase() === "f") toggleFs();
      if(e.key === "Home") go(0);
      if(e.key === "End") go(slides.length - 1);
    });

    // Touch swipe
    let startX = null;
    document.addEventListener('touchstart', (e) => { startX = e.touches[0].clientX; }, {passive:true});
    document.addEventListener('touchend', (e) => {
      if(startX === null || quizOpen) return;
      const endX = e.changedTouches[0].clientX;
      const dx = endX - startX;
      if(Math.abs(dx) > 60){
        if(dx < 0) next(); else prev();
      }
      startX = null;
    }, {passive:true});

    // Close quiz when clicking outside modal
    quizOverlay.addEventListener('click', (e)=>{
      if(e.target === quizOverlay) closeQuiz();
    });

    render();
    updateFsUI();
  </script>
</body>
</html>
